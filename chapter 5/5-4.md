# 练习 5-4
- 思考：若把例 5-9 中静态变量 f 定义成普通局部变量，还能实现计算 n! 吗？请上机检验。若把 f 换成全局变量又会如何?

## 例 5-9
- 输入正整数 n，输出 1! ~ n! 的值。要求定义并调用含静态变量的函数 fact_s(n) 计算 n!。
```c
#include <stdio.h>
double fact_s(int n);

int main(void)
{
    int i, n;
    printf("Input n:");
    scanf("%8d", &n);
    for(i = 1; i <= n; i++)
        printf("%3d! = %.0f\n", i, fact_s(i));  /* 输出 i 和 i! */

    return 0;
}

double fact_s(int n)
{
    static double f = 1;    /* 定义静态变量，第一次赋值为 1 */
    f = f * n;              /* 上一次调用时的值再乘 n */
    return(f);
}
```
- 执行结果
```
Input n:8
  1! = 1
  2! = 2
  3! = 6
  4! = 24
  5! = 120
  6! = 720
  7! = 5040
  8! = 40320
```

## 将例5-9的实现中fact_s函数中的**静态变量**改为**普通局部变量**
```c
#include <stdio.h>
double fact_s(int n);

int main(void)
{
    int i, n;
    printf("Input n:");
    scanf("%8d", &n);
    for(i = 1; i <= n; i++)
        printf("%3d! = %.0f\n", i, fact_s(i));  /* 输出 i 和 i! */

    return 0;
}

double fact_s(int n)
{
    double f = 1;    /* 定义普通局部变量 */
    f = f * n;       
    return(f);
}
```
- 执行结果
```
Input n:8
  1! = 1
  2! = 2
  3! = 3
  4! = 4
  5! = 5
  6! = 6
  7! = 7
  8! = 8
```

## 将例5-9的实现中fact_s函数中的**静态变量**改用**全局变量**
```c
#include <stdio.h>
double fact_s(int n);
// 全局变量
double f = 1;

int main(void)
{
    int i, n;
    printf("Input n:");
    scanf("%8d", &n);
    for(i = 1; i <= n; i++)
        printf("%3d! = %.0f\n", i, fact_s(i));  /* 输出 i 和 i! */

    return 0;
}

double fact_s(int n)
{
    // f 为全局变量
    f = f * n;       
    return(f);
}
```
- 执行结果
```
Input n:8 
  1! = 1
  2! = 2
  3! = 6
  4! = 24
  5! = 120
  6! = 720
  7! = 5040
  8! = 40320
```